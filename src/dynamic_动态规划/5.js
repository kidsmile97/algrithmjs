/**
5. æœ€é•¿å›æ–‡å­ä¸²

ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œæ‰¾å‡ºå…¶ä¸­çš„æœ€é•¿å›æ–‡å­ä¸²

å›æ–‡å­—ç¬¦ä¸²ï¼šé¡ºåºå€’åºå®Œå…¨ä¸€æ ·çš„å­—ç¬¦ä¸²ï¼Œç§°ä¹‹ä¸ºå›æ–‡å­—ç¬¦ä¸²

babad
=>
bab || aba

åˆ†æï¼š
1. å•ä¸ªå­—ç¬¦ä¸ºå›æ–‡å­—ç¬¦ä¸²
2. ç›®æ ‡æ˜¯å¯»æ‰¾å›æ–‡å­—ç¬¦ä¸²ï¼Œä»ç¡®å®šçš„æ­¥éª¤ => å›æ–‡å­—ç¬¦ä¸²åˆ¤æ–­å…¥æ‰‹ï¼Œæ ¹æ®åˆ¤æ–­è¿‡ç¨‹çš„å®ç°æ¥æ€è€ƒå…·ä½“ç®—æ³•è®¾è®¡
å›æ–‡å­—ç¬¦ä¸²æœ‰å‡ ä¸ªåˆ¤æ–­æ–¹æ³•
- ç›´æ¥åè½¬å­—ç¬¦ä¸²ï¼Œä¸åŸå­—ç¬¦ä¸²æ¯”è¾ƒ
- ç¡®å®šå¼€å§‹ 0 å’Œç»“æŸ len-1 ä¸¤ä¸ªæŒ‡é’ˆï¼Œå¼€å§‹æŒ‡é’ˆ++ï¼Œç»“æŸæŒ‡é’ˆ-- é€ä½ç½®åˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦ç›¸ç­‰ï¼Œä¸ç­‰ç›´æ¥åˆ¤æ–­ä¸ä¸ºå›æ–‡å­—ç¬¦ä¸²
- for å¾ªç¯å•æŒ‡é’ˆæ³•ï¼Œç»“æŸæŒ‡é’ˆå¯ä»¥ç›´æ¥æ ¹æ®å¼€å§‹æŒ‡é’ˆè®¡ç®—å¾—å‡ºï¼Œæœ¬è´¨åŒæ–¹æ³•äºŒ
3. æ ¹æ®ç‰¹æ€§å’Œåˆ¤æ–­æ–¹æ³•æ€è€ƒå¦‚ä½•åœ¨ä¸€ä¸ªé•¿ä¸²ä¸­å¯»æ‰¾å›æ–‡å­—ç¬¦ä¸²



- æš´åŠ›è§£æ³•( æ—¶é—´ï¼šO(n!)ï¼Œç©ºé—´ï¼šO(1) )
å‡è®¾æ¯ä¸€ä¸ªå­—ç¬¦å­ä¸²éƒ½æ˜¯å›æ–‡å­—ç¬¦ä¸²åŠ ä»¥éªŒè¯ï¼Œä»å¤´åˆ°å°¾å¼€å§‹ï¼Œæ‰€éœ€å¾ªç¯æ¬¡æ•° (n+1)n/2 æ¬¡ï¼Œæ¯æ¬¡éªŒè¯éœ€è¦å†éå†ï¼Œå³ O(nï¼)
  + ä¼˜åŒ–æ–¹æ¡ˆï¼šå¯»æ‰¾æœ€å¤§ï¼Œæ¯æ¬¡å¯ä»¥ä»å½“å‰å·²ç»å¾—åˆ°çš„æœ€å¤§é•¿åº¦ä¸‹æ ‡å¼€å§‹ï¼Œå‡å°‘å¾ªç¯æ¬¡æ•°



- åŠ¨æ€è§„åˆ’( æ—¶é—´ï¼šO(n^2)ï¼Œç©ºé—´ O(n^2) )
å›æ–‡ä¸²ç‰¹ç‚¹ï¼šå›æ–‡å­—ç¬¦ä¸²ï¼ˆlen > 2ï¼‰å»æ‰é¦–å°¾ä¸¤ä¸ªå­—ç¬¦åï¼Œå‰©ä¸‹çš„ä¸­é—´å­ä¸²è‚¯å®šä¹Ÿæ˜¯ä¸€ä¸ªå›æ–‡å­—ç¬¦ä¸²
è¿™é‡Œå°±æ‹¥æœ‰äº†åŠ¨æ€è§„åˆ’çš„åŸºæœ¬æ¡ä»¶ï¼Œå­˜åœ¨å­ç»“æ„çš„ç‰¹æ€§

1. æ€è€ƒï¼šå¦‚ä½•è®©å­ç»“æ„çš„ç»“æœè¿ç”¨åˆ°è¿ç®—è¿‡ç¨‹ä¸­ï¼Œç®€åŒ–è¿ç®—è¿‡ç¨‹ï¼Œå³ç¡®å®šçŠ¶æ€è½¬ç§»æ–¹ç¨‹
dp(i, j) i åˆ° j ä½ç½®çš„å­—ç¬¦å­ä¸²æ˜¯å¦ä¸ºå›æ–‡ä¸²
dp(i, j) = dp(i-1, j-1) && str[i] == str[j]

2. æ ¸å¿ƒéš¾ç‚¹æ€è€ƒï¼Œå¦‚ä½•é€‚å½“å¾ªç¯èƒ½ä½¿ç”¨åˆ°çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼Œåˆæ€ä¹ˆå»è®©å¾ªç¯èƒ½è¦†ç›–æ‰€æœ‰çš„å­å­—ç¬¦ä¸²
è§‚å¯ŸçŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼Œè½¬ç§»æ˜¯ä»é•¿çš„å­—ç¬¦ä¸²å‘çŸ­çš„è½¬ç§»ï¼Œæ‰€ä»¥ç”¨å­ä¸²é•¿åº¦æ¥éå†æœ€ä¸ºåˆé€‚ï¼ŒæŒ‰ç…§å­ä¸²é•¿åº¦ä»çŸ­åˆ°é•¿éå†

3. è¾¹ç•Œã€åˆå§‹çŠ¶æ€ç¡®å®š
- é•¿åº¦ 1 éƒ½ä¸ºå›æ–‡ä¸² dp(i,i) = true
- é•¿åº¦ 2 s[i]==s[j] ä¸ºå›æ–‡ä¸² dp(i, i+1) = (s[i] == s[i+1])



- ä¸­å¿ƒæ‰©æ•£æ³•( æ—¶é—´ï¼šO(n^2)ï¼Œç©ºé—´ O(1) )
ç›¸å½“äºåŠ¨æ€è§„åˆ’çš„é€†å‘æ–¹æ³•ï¼Œé•¿åº¦ 1ã€2 çš„å­—ç¬¦ä¸²æ˜¯åŠ¨æ€è§„åˆ’çš„è¾¹ç•Œæƒ…å†µï¼Œå¾ªç¯éå†çš„æ—¶å€™ä»¥è¿™ä¸¤ç§ä¸ºå›æ–‡ä¸­å¿ƒç›´æ¥å‘å¤–æ‹“å±•ï¼Œå¯»æ‰¾æœ€é•¿å›æ–‡ä¸²å³å¯



- Manacher ç®—æ³•ï¼Œä¸€ä¸ªå¤æ‚çš„ O(n) ç®—æ³•ï¼Œå¾ˆéš¾ä¹Ÿå¾ˆğŸ®
 */

/** åŠ¨æ€è§„åˆ’ */
function longestPalindrome(s) {
  // ä½¿ç”¨ä¸€ä¸ª n * n çŸ©é˜µä¿å­˜æ¯æ¬¡éªŒè¯ç»“æœ
  const n = s.length;
  const res = new Array(n).fill(0).map(() => new Array(n).fill(false));
  let target = s[0];
  // æ‰€æœ‰å•å­—ç¬¦éƒ½æ˜¯å›æ–‡ä¸²
  for (let i = 0; i < n - 1; i++) {
    res[i][i] = true;
    res[i][i+1] = s[i] === s[i+1]
    if (res[i][i+1]) {
      target = s.substring(i, i+2)
    }
  }
  res[n-1][n-1] = true;
  // ä»é•¿åº¦ 3 çš„å­ä¸²å¼€å§‹
  for(let len = 3; len <= n; len++) {
    for(let j = 0; j <= n - len; j++) {
      const lastIndex = j+len - 1;
      res[j][lastIndex] = res[j+1][lastIndex-1] && s[j] === s[lastIndex]
      if (res[j][lastIndex] && len > target.length) {
        target = s.substring(j, lastIndex + 1)
      }
    }
  }
  return target;
}

/** ä¸­å¿ƒæ‰©æ•£æ³• */
function longestPalindrome2(s) {
  const n = s.length;
  let target = s[0];
  for (let i = 0; i < n - 1; i++) {
    // å•å­—æ¯ä¸­å¿ƒ aba æ‰©å±•
    
    // åŒå­—æ¯ä¸­å¿ƒ abba æ‰©å±•
  }
  return target;
}

/** Manacher ç®—æ³• */

module.exports = longestPalindrome;
