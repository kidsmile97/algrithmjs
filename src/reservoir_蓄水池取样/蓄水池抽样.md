## 蓄水池抽样算法（Reservoir Sampling）

一种用于从数据流（可能是无限的或太大而无法全部存储在内存中）中随机抽取固定数量样本的高效算法。该算法允许在仅遍历数据流一次的情况下，确保每个样本被选中的概率相等，且最终得到的样本集合代表了总体的随机子集。

## 算法描述

1. 初始化阶段：

创建一个大小为k的数组或容器，用于存放样本。

遍历数据流的前k个元素，并将这些元素直接放入数组中，此时数组已满，代表了初步的样本集。

2. 后续遍历阶段：

对于数据流中的第k+1个元素开始，每次遇到新的元素时：

- 生成一个 [0, 当前元素索引] 区间内的随机数 j。
- 如果 j 小于等于 k，则用当前元素替换数组中的第 j 个元素。

注意：这里的当前元素索引指的是在整个数据流中的位置。

通过这种方式，随着数据流的推进，每个已经进入蓄水池（数组）的元素都有 k / (当前元素索引) 的概率保持在数组中，从而保证了无论数据流有多大，最终得到的样本集都是均匀随机的。

## 总结

一个随机抽样的简单、巧妙、精致的算法

该算法的优势在于其时间和空间复杂度较低，对于大规模数据流，尤其是无法一次性加载所有数据的情况下尤为实用。

## 算法证明
